;=====================================================
;
;   To learn more about how to configure Polybar
;   go to https://github.com/jaagr/polybar
;
;   The README contains alot of information
;
;=====================================================

[colors]
background = ${xrdb:background}
background-alt = ${xrdb:color9}
foreground = ${xrdb:foreground}
foreground-alt = ${xrdb:color0}
primary = ${xrdb:color6}
secondary = ${xrdb:color14}
alert = ${xrdb:color1}
border = ${xrdb:color15}


#
# Bars
#

include-file = ~/.config/polybar/bars/top
include-file = ~/.config/polybar/bars/bottom


#
# Modules
#

# bar/top left
include-file = ~/.config/polybar/modules/i3
include-file = ~/.config/polybar/modules/xwindow

# bar/top center
include-file = ~/.config/polybar/modules/mpd

# bar/top right
include-file = ~/.config/polybar/modules/date
include-file = ~/.config/polybar/modules/volume

# bar/bottom left
include-file = ~/.config/polybar/modules/filesystem
# bar/bottom center
# bar/bottom right
include-file = ~/.config/polybar/modules/memory
include-file = ~/.config/polybar/modules/cpu

[module/coretemps]
type = custom/script
exec-if = sensors
exec = sensors | grep Core | awk '{print substr($3, 2, 2)}' | tr '\n' ' ' | sed 's/ /C  /g' | sed 's/  $//'

[module/networkspeedup]
type = internal/network
interface = bond0
label-connected = "%upspeed:7%"
format-connected = <label-connected>
#format-connected-prefix = " "
format-connected-prefix-foreground = #5b

[module/networkspeeddown]
type = internal/network
interface = bond0
label-connected = "%downspeed:7%"
format-connected = <label-connected>
#format-connected-prefix = " "
format-connected-prefix-foreground = #5b

[module/eth]
type = internal/network
interface = bond0
interval = 3.0

format-connected-prefix = " "
format-connected-foreground-foreground = ${colors.foreground-alt}
label-connected = %local_ip%

label-disconnected = %ifname% disconnected
label-disconnected-foreground = ${colors.foreground-alt}

[module/extip]
type = custom/script
interval = 2
format = <label>
format-prefix-foreground = ${colors.foreground}
format-prefix-background = ${colors.background}
exec = echo "$(dig +short myip.opendns.com @resolver1.opendns.com)"
exec-if = ping -c 1 gentoo.org

[module/hostname]
type = custom/script
interval = 256
format = "<label> "
;format-prefix = "  "
format-prefix-foreground = ${colors.foreground-alt}
format-padding = 0
format-background = ${colors.background}
exec = echo "$(uname -n)"

[module/weather]
type = custom/script
interval = 1800
format = <label>
format-padding = 1
; format-suffix = "°C"
format-prefix-foreground = ${colors.foreground-alt}
format-background = ${colors.background}
exec = ~/.dotfiles/i3/.i3/scripts/weather

[module/powermenu]
type = custom/menu

format-spacing = 1

label-open = 
label-close = cancel
label-close-foreground = ${colors.foreground-alt}
label-separator = |
label-separator-foreground = ${colors.foreground-alt}

menu-0-0 = reboot
menu-0-0-exec = menu-open-1
menu-0-1 = 
menu-0-1-exec = menu-open-2

menu-1-0 = cancel
menu-1-0-exec = menu-open-0
menu-1-1 = reboot
menu-1-1-exec = systemctl reboot

menu-2-0 = 
menu-2-0-exec = systemctl poweroff
menu-2-1 = cancel
menu-2-1-exec = menu-open-0

[settings]
compositing-background = over   ; xor, screen
compositing-foreground = over   ; source
compositing-overline = over
compositing-underline = over
compositing-border = over
screenchange-reload = true

[global/wm]
margin-top = 0
margin-bottom = 0
fixed-center = true
override-redirect = true

; vim:ft=dosini
